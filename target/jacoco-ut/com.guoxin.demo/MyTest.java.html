<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>MyTest.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MavenTestNgDemo</a> &gt; <a href="index.source.html" class="el_package">com.guoxin.demo</a> &gt; <span class="el_source">MyTest.java</span></div><h1>MyTest.java</h1><pre class="source lang-java linenums">package com.guoxin.demo;


import static org.mockito.Mockito.mock;

import java.util.List;

import org.testng.annotations.Test;

<span class="nc" id="L10">public class MyTest {</span>
	@Test
	public void myTest() {
//		通过方法创建mock对象
<span class="nc" id="L14">		List list =mock(List.class);</span>
//		设置预期，当调用get(0)方法时返回设定的值
//		when(list.get(0)).thenReturn(&quot;1&quot;);
//		设置多次调用时的值
//		when(list.get(anyInt())).thenReturn(&quot;1&quot;, &quot;2&quot;);
//		doReturn(&quot;1&quot;).doReturn(&quot;2&quot;).when(list).get(anyInt());
//		返回值为void，则设置为doNothing()
//		doNothing().when(list).get(anyInt());
//		String ret = (String)list.get(0);
//		Assert.assertEquals(ret, &quot;1&quot;);		
//		ret = (String)list.get(1);
//		Assert.assertEquals(ret, &quot;2&quot;);
//		验证操作，默认是验证调用了1次
//		verify(list).get(0); 
//		验证操作，验证 get(0) 调用了 2次
//		verify(list,times(2)).get(0);

//		对方法设定返回异常，调用mock某个方法时报异常
//		when(list.get(anyInt())).thenThrow(new RuntimeException());
//		对 void方法设定异常
//		doThrow(new RuntimeException()).when(list.get(anyInt()));
//		String ret = (String)list.get(0);
		
		/* 设置方法调用顺序 */
		/*  查询是否存在被调用，但未被 verify 验证的方法 */
		/* 参数捕获器 */
//		ArgumentCaptor 参数捕获器，捕捉到的参数为最后一次调用method时传入的参数
//		ArgumentCaptor&lt;Integer&gt; argumentCaptor = ArgumentCaptor.forClass(Integer.class);
//	    verify(list, times(2)).get(argumentCaptor.capture());
//	    System.out.println(&quot;argument:&quot; + argumentCaptor.getValue());		
	
<span class="nc" id="L45">	}</span>
	
	public static void main(String[] args) {
<span class="nc" id="L48">		Object[][] obj = new Object[][]{{1,2,3},{4,5,6}};</span>
<span class="nc" id="L49">		System.out.println(obj[1][2]);</span>
<span class="nc" id="L50">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>